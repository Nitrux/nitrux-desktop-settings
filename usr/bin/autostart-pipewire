#!/usr/bin/env bash

# SPDX-License-Identifier: BSD-3-Clause
# Copyright 2024-2025 <Nitrux Latinoamericana S.C. <hello@nxos.org>>


# -- Exit on errors.

set -eu


# -- Start PipeWire processes.

for process in pipewire pipewire-pulse wireplumber; do
    nohup "$process" >/dev/null 2>&1 &
done


# -- Use file to test with aplay.

audio_sample=""


# -- Reproduce sound to make PipeWire work.

for device in default sysdefault pipewire; do
    nohup aplay -D "$device" "$audio_sample" >/dev/null 2>&1 &
done
