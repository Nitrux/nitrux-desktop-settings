:root {
  /* Catppuccin Mocha Palette */
  --rosewater: #f5e0dc;
  --flamingo: #f2cdcd;
  --pink: #f5c2e7;
  --mauve: #cba6f7;
  --red: #f38ba8;
  --maroon: #eba0ac;
  --peach: #fab387;
  --yellow: #f9e2af;
  --green: #a6e3a1;
  --teal: #94e2d5;
  --sky: #89dceb;
  --sapphire: #74c7ec;
  --blue: #89b4fa;
  --lavender: #b4befe;
  --text: #cdd6f4;
  --subtext1: #bac2de;
  --subtext0: #a6adc8;
  --overlay2: #9399b2;
  --overlay1: #7f849c;
  --overlay0: #6c7086;
  --surface2: #585b70;
  --surface1: #45475a;
  --surface0: #313244;
  --base: #1e1e2e;
  --mantle: #181825;
  --crust: #11111b;

  --low: var(--surface0);
  --normal: var(--surface1); 
  --critical: var(--red);
}

* {
  all: unset;
  font-size: 13px;
  font-family: "Switzer", "Noto Sans Emoji", sans-serif;
  font-weight: bold;
  transition: 200ms;
}

/* --- MAIN CONTROL CENTER --- */
/* Ensure the outer window container is completely transparent */
window#swaync-control-center {
    background: transparent;
}

.control-center {
  background-color: var(--base);
  border-radius: 12px;
  border: 1px solid var(--surface0);
  margin: 12px;
  padding: 14px;
  
  box-shadow: 
      0 0 0 1px rgba(17, 17, 27, 0.6),
      0 0 0 2px rgba(17, 17, 27, 0.5),
      0 0 0 3px rgba(17, 17, 27, 0.4),
      0 0 0 4px rgba(17, 17, 27, 0.3),
      0 0 0 5px rgba(17, 17, 27, 0.2),
      0 0 0 6px rgba(17, 17, 27, 0.1);
}

/* --- TOASTS (Floating) --- */
.floating-notifications .notification {
  background-color: var(--base);
  border-radius: 12px;
  border: 1px solid var(--surface0); 
  margin: 6px 12px;
  padding: 0;
  
  box-shadow: 
      0 0 0 1px rgba(17, 17, 27, 0.6),
      0 0 0 2px rgba(17, 17, 27, 0.5),
      0 0 0 3px rgba(17, 17, 27, 0.4),
      0 0 0 4px rgba(17, 17, 27, 0.3),
      0 0 0 5px rgba(17, 17, 27, 0.2),
      0 0 0 6px rgba(17, 17, 27, 0.1);
}

/* --- CONTROL CENTER NOTIFICATIONS --- */
.control-center .notification {
  background-color: var(--mantle);
  border-radius: 12px;
  border: 1px solid var(--surface0);
  margin-bottom: 8px;
  padding: 0;
  box-shadow: none;
}

.control-center .notification:hover {
  background-color: var(--surface0);
}

/* --- URGENCY OVERRIDES --- */
.notification.low { border-color: var(--low); }
.notification.normal { border-color: var(--normal); }
.notification.critical { 
  border-color: var(--critical); 
  background-color: var(--mantle);
}
.notification.critical .notification-content .summary { color: var(--critical); }

/* --- NOTIFICATION CONTENT --- */
.notification-content {
  padding: 10px;
}

/* FIX 1: Add margin to the image/icon */
.notification-content image {
  margin-right: 12px;
}

.summary {
  color: var(--text);
  font-size: 1.1em;
  font-weight: bold;
  margin-bottom: 4px;
}

.body {
  color: var(--subtext1);
}

/* --- TIME LABEL FIX --- */
/* Increase margin-right to 30px to clear the Close Button */
.time {
  color: var(--subtext0);
  font-size: 0.9em;
  margin-right: 34px; /* <--- CRITICAL FIX: Pushes text away from the button */
}

.close-button {
  background-color: var(--red);
  color: var(--base);
  border-radius: 100%;
  margin: 2px;
  padding: 2px;
  min-width: 20px;
  min-height: 20px;
}

/* FIX 2: Increased Button Margins */
.notification-action {
  padding: 6px;
  color: var(--text);
  background-color: var(--surface0);
  border-radius: 8px;
  
  /* Top: 0 (rely on padding)
     Right: 10px (align with content)
     Bottom: 10px (more space at bottom)
     Left: 10px (align with content) */
  margin: 0 10px 10px 10px; 
}

.notification-action:hover {
  background-color: var(--surface1);
}

/* --- NOTIFICATION GROUP HEADER --- */
.notification-group-header {
  /* top | right | bottom | left */
  padding: 20px 0px 20px 0px; /* Add vertical breathing room */
  margin-bottom: 5px;
  color: var(--subtext1);
}

.notification-group-icon {
  margin-bottom: 5px;
  margin-right: 8px; /* Space between app icon and name */
  -gtk-icon-size: 20px;
}

.notification-group-header > label {
  font-size: 1.1rem;
  font-weight: bold;
  color: var(--text);
  margin-right: 10px;
  margin-bottom: 5px;
}

/* Group Close Buttons (The little 'x's) */
.notification-group-header > button {
  background-color: transparent;
  color: var(--surface2);
  border: 1px solid transparent;
  border-radius: 8px;
  padding: 4px 8px;
  margin-left: 5px;
}

.notification-group-header > button:hover {
  background-color: var(--surface0);
  color: var(--red); /* Turn red on hover for clarity */
}

/* Add this to style.css to separate different apps from each other */
.notification-group {
  padding: 8px 0px 8px 0px; /* Add vertical breathing room */
}

/* --- WIDGETS --- */
.widget-title {
  color: var(--text);
  background-color: var(--mantle);
  border-radius: 12px;
  padding: 8px 10px;
  margin-bottom: 10px;
  font-size: 1.3em;
}

.widget-title > button {
  font-size: 1rem;
  color: var(--base);
  background-color: var(--text);
  border-radius: 12px;
  padding: 4px 12px;
}

.widget-title > button:hover {
  background-color: var(--sky);
  color: var(--base);
}

.widget-dnd {
  background-color: var(--mantle);
  border-radius: 12px;
  padding: 8px 10px;
  margin-bottom: 10px;
  color: var(--yellow);
}

.widget-dnd > switch {
  background: var(--surface0);
  border-radius: 12px;
}
.widget-dnd > switch:checked {
  background: var(--sky);
}
.widget-dnd > switch slider {
  background: var(--base);
  border-radius: 12px;
}

/* Hide the empty placeholder to collapse the gap */
.widget-notifications .empty-text,
.widget-notifications .empty-icon {
    opacity: 0;
    min-width: 0;
    min-height: 0;
    font-size: 0px;
    margin: 0;
    padding: 0;
    -gtk-icon-size: 0px;
}

/* In some versions/themes, the placeholder is a Label inside the box */
.widget-notifications > box > label {
    opacity: 0;
    min-width: 0;
    min-height: 0;
    font-size: 0px;
    margin: 0;
    padding: 0;
}

/* --- MEDIA PLAYER --- */

/* Outer Widget Container - Transparent & Tight */
.widget-mpris {
  background-color: transparent;
  padding: 0;
  margin-bottom: 10px;
  border: none;
  box-shadow: none;
}

/* Inner Player Card - This gets the "Card" styling */
.widget-mpris-player {
  background-color: var(--base); /* Fallback if blur doesn't load */
  border-radius: 12px;
  padding: 12px;
  margin: 6px;
  border: 1px solid var(--surface0);
  
  /* Deep shadow from the reference code */
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5); 
}

/* Blurred Background Image (If supported by your SwayNC version) */
.mpris-background {
  filter: blur(10px) brightness(0.4);
}

/* Album Art */
.widget-mpris-album-art {
  -gtk-icon-size: 80px; /* Large Art */
  border-radius: 10px;
  margin-right: 15px;
  
  /* Shadow for the art itself */
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
}

/* Text Styling */
.widget-mpris-title {
  font-weight: 800;
  font-size: 1.1rem;
  color: var(--text);
  margin-bottom: 4px;
  text-shadow: 0px 0px 5px rgba(0, 0, 0, 0.5);
}

.widget-mpris-subtitle {
  font-size: 0.9rem;
  color: var(--subtext0);
}

/* --- CONTROLS --- */
/* Play/Pause Buttons */
.widget-mpris-player > box > button {
  background-color: rgba(0, 0, 0, 0.2); /* Subtle dark background */
  color: var(--text);
  border-radius: 100%;
  min-width: 36px;
  min-height: 36px;
  margin: 0 4px; /* Space between buttons */
  padding: 0;
  border: 1px solid transparent;
}

.widget-mpris-player > box > button:hover {
  background-color: var(--surface0);
  color: var(--mauve);
  border-color: var(--surface1);
}

/* --- PROGRESS BAR --- */
.widget-mpris > box > scale {
  min-height: 4px;
  margin-top: 10px;
  padding: 0 5px;
}

.widget-mpris > box > scale trough {
  background-color: var(--surface0);
  border-radius: 10px;
}

.widget-mpris > box > scale highlight {
  background-color: var(--mauve);
  border-radius: 10px;
}

/* --- SOURCE SWITCHERS --- */
.widget-mpris > box > button {
  min-height: 20px;
  color: var(--surface2);
  background-color: transparent;
  box-shadow: none;
}

.widget-mpris > box > button:hover {
  color: var(--text);
  background-color: transparent;
}
